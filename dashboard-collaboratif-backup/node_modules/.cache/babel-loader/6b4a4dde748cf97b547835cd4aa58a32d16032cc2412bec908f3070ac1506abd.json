{"ast":null,"code":"var _jsxFileName = \"/Users/djsambolebindzi/Documents/AppRegardCrois-/dashboard-collaboratif-backup/src/components/InlineEdit.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { Box, TextField, IconButton } from \"@mui/material\";\nimport EditIcon from '@mui/icons-material/Edit';\nimport CheckIcon from '@mui/icons-material/Check';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction InlineEdit({\n  value,\n  onSave,\n  type = \"text\",\n  style = {},\n  minRows = 2,\n  ...rest\n}) {\n  _s();\n  const [editing, setEditing] = useState(false);\n  const [draft, setDraft] = useState(value !== null && value !== void 0 ? value : \"\");\n  const inputRef = useRef(null);\n  useEffect(() => {\n    if (editing && inputRef.current) inputRef.current.focus();\n  }, [editing]);\n  useEffect(() => {\n    setDraft(value !== null && value !== void 0 ? value : \"\");\n  }, [value]);\n  function handleSave() {\n    if (draft !== value) onSave(draft);\n    setEditing(false);\n  }\n  function handleKey(e) {\n    if (type === \"textarea\") {\n      if (e.key === \"Escape\") {\n        setDraft(value);\n        setEditing(false);\n      }\n      if (e.ctrlKey && e.key === \"Enter\") handleSave();\n    } else {\n      if (e.key === \"Enter\") handleSave();\n      if (e.key === \"Escape\") {\n        setDraft(value);\n        setEditing(false);\n      }\n    }\n  }\n  if (!editing) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      component: \"span\",\n      sx: {\n        cursor: \"pointer\",\n        borderBottom: \"1px dotted #bbb\",\n        transition: \"border 0.2s\",\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        ...style\n      },\n      tabIndex: 0,\n      \"aria-label\": \"\\xC9diter\",\n      onClick: () => setEditing(true),\n      onKeyDown: e => {\n        if (e.key === \"Enter\" || e.key === \" \") setEditing(true);\n      },\n      ...rest,\n      children: [value || /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: \"#aaa\"\n        },\n        children: \"\\u2014 vide \\u2014\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(EditIcon, {\n        sx: {\n          fontSize: 18,\n          ml: 0.5,\n          color: \"#888\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    component: \"span\",\n    sx: {\n      display: \"inline-flex\",\n      alignItems: \"center\",\n      ...style\n    },\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      inputRef: inputRef,\n      value: draft,\n      onChange: e => setDraft(e.target.value),\n      onKeyDown: handleKey,\n      onBlur: handleSave,\n      multiline: type === \"textarea\",\n      minRows: type === \"textarea\" ? minRows : undefined,\n      size: \"small\",\n      variant: \"outlined\",\n      sx: {\n        fontSize: style.fontSize || 15,\n        minWidth: style.minWidth || 100,\n        maxWidth: 400,\n        \"& .MuiInputBase-input\": {\n          py: 0.8\n        }\n      },\n      ...rest\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n      onMouseDown: e => e.preventDefault(),\n      onClick: handleSave,\n      size: \"small\",\n      sx: {\n        ml: 0.5\n      },\n      children: /*#__PURE__*/_jsxDEV(CheckIcon, {\n        color: \"primary\",\n        fontSize: \"small\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(InlineEdit, \"u9wPHzjay/1+KcR1uJmjEk+sXOc=\");\n_c = InlineEdit;\nexport default InlineEdit;\nvar _c;\n$RefreshReg$(_c, \"InlineEdit\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Box","TextField","IconButton","EditIcon","CheckIcon","jsxDEV","_jsxDEV","InlineEdit","value","onSave","type","style","minRows","rest","_s","editing","setEditing","draft","setDraft","inputRef","current","focus","handleSave","handleKey","e","key","ctrlKey","component","sx","cursor","borderBottom","transition","display","alignItems","tabIndex","onClick","onKeyDown","children","color","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","ml","onChange","target","onBlur","multiline","undefined","size","variant","minWidth","maxWidth","py","onMouseDown","preventDefault","_c","$RefreshReg$"],"sources":["/Users/djsambolebindzi/Documents/AppRegardCrois-/dashboard-collaboratif-backup/src/components/InlineEdit.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { Box, TextField, IconButton } from \"@mui/material\";\nimport EditIcon from '@mui/icons-material/Edit';\nimport CheckIcon from '@mui/icons-material/Check';\n\nfunction InlineEdit({\n  value,\n  onSave,\n  type = \"text\",\n  style = {},\n  minRows = 2,\n  ...rest\n}) {\n  const [editing, setEditing] = useState(false);\n  const [draft, setDraft] = useState(value ?? \"\");\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    if (editing && inputRef.current) inputRef.current.focus();\n  }, [editing]);\n\n  useEffect(() => {\n    setDraft(value ?? \"\");\n  }, [value]);\n\n  function handleSave() {\n    if (draft !== value) onSave(draft);\n    setEditing(false);\n  }\n\n  function handleKey(e) {\n    if (type === \"textarea\") {\n      if (e.key === \"Escape\") { setDraft(value); setEditing(false); }\n      if (e.ctrlKey && e.key === \"Enter\") handleSave();\n    } else {\n      if (e.key === \"Enter\") handleSave();\n      if (e.key === \"Escape\") { setDraft(value); setEditing(false); }\n    }\n  }\n\n  if (!editing) {\n    return (\n      <Box\n        component=\"span\"\n        sx={{\n          cursor: \"pointer\",\n          borderBottom: \"1px dotted #bbb\",\n          transition: \"border 0.2s\",\n          display: \"inline-flex\",\n          alignItems: \"center\",\n          ...style\n        }}\n        tabIndex={0}\n        aria-label=\"Éditer\"\n        onClick={() => setEditing(true)}\n        onKeyDown={e => { if (e.key === \"Enter\" || e.key === \" \") setEditing(true); }}\n        {...rest}\n      >\n        {value || <span style={{ color: \"#aaa\" }}>— vide —</span>}\n        <EditIcon sx={{ fontSize: 18, ml: 0.5, color: \"#888\" }} />\n      </Box>\n    );\n  }\n\n  return (\n    <Box component=\"span\" sx={{ display: \"inline-flex\", alignItems: \"center\", ...style }}>\n      <TextField\n        inputRef={inputRef}\n        value={draft}\n        onChange={e => setDraft(e.target.value)}\n        onKeyDown={handleKey}\n        onBlur={handleSave}\n        multiline={type === \"textarea\"}\n        minRows={type === \"textarea\" ? minRows : undefined}\n        size=\"small\"\n        variant=\"outlined\"\n        sx={{\n          fontSize: style.fontSize || 15,\n          minWidth: style.minWidth || 100,\n          maxWidth: 400,\n          \"& .MuiInputBase-input\": { py: 0.8 }\n        }}\n        {...rest}\n      />\n      <IconButton onMouseDown={e => e.preventDefault()} onClick={handleSave} size=\"small\" sx={{ ml: 0.5 }}>\n        <CheckIcon color=\"primary\" fontSize=\"small\" />\n      </IconButton>\n    </Box>\n  );\n}\n\nexport default InlineEdit;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}