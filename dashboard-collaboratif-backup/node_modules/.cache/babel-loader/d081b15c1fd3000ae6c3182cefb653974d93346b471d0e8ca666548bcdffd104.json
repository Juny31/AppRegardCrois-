{"ast":null,"code":"var _jsxFileName = \"/Users/djsambolebindzi/Documents/AppRegardCrois-/dashboard-collaboratif-backup/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { ThemeProvider, CssBaseline, Box, AppBar, Toolbar, Typography, Button, Container, Paper, Tabs, Tab, Snackbar, Stack } from \"@mui/material\";\nimport ListAltIcon from \"@mui/icons-material/ListAlt\";\nimport PeopleAltIcon from \"@mui/icons-material/PeopleAlt\";\nimport SaveAltIcon from \"@mui/icons-material/SaveAlt\";\nimport CloudDownloadIcon from \"@mui/icons-material/CloudDownload\";\nimport LogoutIcon from \"@mui/icons-material/Logout\";\nimport ThemeOfTheMonth from \"./components/ThemeOfTheMonth\";\nimport TaskBoard from \"./components/TaskBoard\";\nimport ContactBoard from \"./components/ContactBoard\";\nimport ProgressDashboard from \"./components/ProgressDashboard\";\nimport theme from \"./theme\";\nimport jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getToken() {\n  return localStorage.getItem(\"token\");\n}\nfunction setToken(token) {\n  localStorage.setItem(\"token\", token);\n}\nfunction removeToken() {\n  localStorage.removeItem(\"token\");\n}\nfunction authHeaders() {\n  return {\n    Authorization: \"Bearer \" + getToken()\n  };\n}\nfunction AuthForm({\n  onLogin\n}) {\n  _s();\n  const [mode, setMode] = useState(\"login\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setErr(\"\");\n    try {\n      if (mode === \"register\") {\n        await axios.post(\"http://localhost:4000/register\", {\n          username,\n          password\n        });\n        setMode(\"login\");\n        setErr(\"Compte créé. Connectez-vous !\");\n      } else {\n        const res = await axios.post(\"http://localhost:4000/login\", {\n          username,\n          password\n        });\n        setToken(res.data.token);\n        await onLogin();\n      }\n    } catch (e) {\n      var _e$response, _e$response$data;\n      setErr((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.error) || \"Erreur serveur\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"xs\",\n    sx: {\n      minHeight: \"100vh\",\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        width: \"100%\",\n        p: 4,\n        borderRadius: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        fontWeight: 700,\n        align: \"center\",\n        mb: 2,\n        children: mode === \"login\" ? \"Connexion\" : \"Inscription\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Nom d'utilisateur\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          required: true,\n          style: {\n            width: \"100%\",\n            marginBottom: 12,\n            padding: 10,\n            fontSize: 16,\n            borderRadius: 6,\n            border: \"1px solid #eaeaea\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Mot de passe\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          required: true,\n          type: \"password\",\n          style: {\n            width: \"100%\",\n            marginBottom: 12,\n            padding: 10,\n            fontSize: 16,\n            borderRadius: 6,\n            border: \"1px solid #eaeaea\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          type: \"submit\",\n          fullWidth: true,\n          sx: {\n            mb: 1,\n            fontWeight: 600\n          },\n          children: mode === \"login\" ? \"Se connecter\" : \"Créer un compte\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"secondary\",\n        fullWidth: true,\n        size: \"small\",\n        onClick: () => setMode(mode === \"login\" ? \"register\" : \"login\"),\n        children: mode === \"login\" ? \"Créer un compte\" : \"Déjà inscrit ? Se connecter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), err && /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        align: \"center\",\n        sx: {\n          mt: 2\n        },\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s(AuthForm, \"24LrsqD3gtqJ7Jt6DkEg/bnscKM=\");\n_c = AuthForm;\nexport default function App() {\n  _s2();\n  const [user, setUser] = useState(null);\n  const [page, setPage] = useState(\"loading\");\n  const [tasks, setTasks] = useState([]);\n  const [contacts, setContacts] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [githubStatus, setGithubStatus] = useState(\"\");\n  const [snack, setSnack] = useState(\"\");\n  const [tab, setTab] = useState(0);\n\n  // Nouvelle variable pour forcer le refresh du thème après édition\n  const [themeKey, setThemeKey] = useState(0);\n\n  // Load everything\n  const loadUserAndData = useCallback(async () => {\n    const token = getToken();\n    if (!token) {\n      setUser(null);\n      setPage(\"auth\");\n      setTasks([]);\n      setContacts([]);\n      setUsers([]);\n      return;\n    }\n    try {\n      const me = await axios.get(\"http://localhost:4000/me\", {\n        headers: authHeaders()\n      });\n      setUser(me.data);\n      setPage(\"dashboard\");\n      const [tasksRes, contactsRes, usersRes] = await Promise.all([axios.get(\"http://localhost:4000/tasks\", {\n        headers: authHeaders()\n      }), axios.get(\"http://localhost:4000/contacts\", {\n        headers: authHeaders()\n      }), axios.get(\"http://localhost:4000/users\", {\n        headers: authHeaders()\n      })]);\n      setTasks(tasksRes.data);\n      setContacts(contactsRes.data);\n      setUsers(usersRes.data);\n    } catch (e) {\n      removeToken();\n      setUser(null);\n      setPage(\"auth\");\n      setTasks([]);\n      setContacts([]);\n      setUsers([]);\n    }\n  }, []);\n  useEffect(() => {\n    loadUserAndData();\n  }, [loadUserAndData]);\n\n  // CRUD\n  const fetchTasks = async () => {\n    const res = await axios.get(\"http://localhost:4000/tasks\", {\n      headers: authHeaders()\n    });\n    setTasks(res.data);\n  };\n  const fetchContacts = async () => {\n    const res = await axios.get(\"http://localhost:4000/contacts\", {\n      headers: authHeaders()\n    });\n    setContacts(res.data);\n  };\n  const handleTaskAdd = async task => {\n    await axios.post(\"http://localhost:4000/tasks\", task, {\n      headers: authHeaders()\n    });\n    fetchTasks();\n    setSnack(\"Tâche ajoutée !\");\n  };\n  const handleTaskUpdate = async (id, update) => {\n    await axios.put(`http://localhost:4000/tasks/${id}`, update, {\n      headers: authHeaders()\n    });\n    fetchTasks();\n    setSnack(\"Tâche modifiée\");\n  };\n  const handleTaskDelete = async id => {\n    await axios.delete(`http://localhost:4000/tasks/${id}`, {\n      headers: authHeaders()\n    });\n    fetchTasks();\n    setSnack(\"Tâche supprimée\");\n  };\n  const handleContactAdd = async contact => {\n    await axios.post(\"http://localhost:4000/contacts\", contact, {\n      headers: authHeaders()\n    });\n    fetchContacts();\n    setSnack(\"Contact ajouté !\");\n  };\n  const handleContactUpdate = async (id, update) => {\n    await axios.put(`http://localhost:4000/contacts/${id}`, update, {\n      headers: authHeaders()\n    });\n    fetchContacts();\n    setSnack(\"Contact modifié\");\n  };\n  const handleContactDelete = async id => {\n    await axios.delete(`http://localhost:4000/contacts/${id}`, {\n      headers: authHeaders()\n    });\n    fetchContacts();\n    setSnack(\"Contact supprimé\");\n  };\n  async function saveToGitHub(setStatus) {\n    setStatus(\"Envoi sur GitHub...\");\n    try {\n      const res = await axios.post(\"http://localhost:4000/github-save\", {\n        tasks,\n        contacts\n      });\n      setStatus(res.data.ok ? \"Sauvegardé sur GitHub !\" : \"Erreur : fallback issue GitHub créé\");\n    } catch {\n      setStatus(\"Erreur critique lors de la sauvegarde\");\n    }\n  }\n  function exportJSON() {\n    const blob = new Blob([JSON.stringify({\n      tasks,\n      contacts\n    }, null, 2)], {\n      type: \"application/json\"\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"dashboard-export.json\";\n    a.click();\n    URL.revokeObjectURL(url);\n  }\n  function logout() {\n    removeToken();\n    setUser(null);\n    setPage(\"auth\");\n    setTasks([]);\n    setContacts([]);\n    setUsers([]);\n  }\n\n  // Handler pour que ThemeOfTheMonth puisse notifier App d'une modification\n  const handleThemeChanged = () => setThemeKey(k => k + 1);\n  if (page === \"loading\") return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Chargement\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 285,\n    columnNumber: 34\n  }, this);\n  if (page === \"auth\") return /*#__PURE__*/_jsxDEV(AuthForm, {\n    onLogin: loadUserAndData\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 31\n  }, this);\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        minHeight: \"100vh\",\n        background: \"linear-gradient(120deg, #2979ff 0%, #8f5cff 100%)\",\n        pb: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"static\",\n        color: \"primary\",\n        elevation: 0,\n        sx: {\n          background: \"rgba(41,121,255,0.93)\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Toolbar, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            sx: {\n              flexGrow: 1,\n              fontWeight: 700\n            },\n            children: \"Dashboard Collaboratif\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            sx: {\n              mr: 2\n            },\n            children: [\"Connect\\xE9 en tant que \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: user === null || user === void 0 ? void 0 : user.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 36\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"inherit\",\n            startIcon: /*#__PURE__*/_jsxDEV(LogoutIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 48\n            }, this),\n            onClick: logout,\n            children: \"Se d\\xE9connecter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"md\",\n        sx: {\n          mt: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(ThemeOfTheMonth, {\n          user: user,\n          onThemeChanged: handleThemeChanged\n        }, themeKey, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 3,\n          sx: {\n            p: 3,\n            mb: 4\n          },\n          children: /*#__PURE__*/_jsxDEV(ProgressDashboard, {\n            tasks: tasks\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n          value: tab,\n          onChange: (_, v) => setTab(v),\n          variant: \"fullWidth\",\n          sx: {\n            mb: 3,\n            borderRadius: 2,\n            boxShadow: \"0 2px 12px rgba(80,80,120,0.13)\",\n            background: \"rgba(255,255,255,0.94)\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            icon: /*#__PURE__*/_jsxDEV(ListAltIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 21\n            }, this),\n            iconPosition: \"start\",\n            label: \"T\\xE2ches\",\n            sx: {\n              fontWeight: 700\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            icon: /*#__PURE__*/_jsxDEV(PeopleAltIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 21\n            }, this),\n            iconPosition: \"start\",\n            label: \"Contacts\",\n            sx: {\n              fontWeight: 700\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          spacing: 2,\n          mb: 4,\n          justifyContent: \"flex-end\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            startIcon: /*#__PURE__*/_jsxDEV(SaveAltIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 26\n            }, this),\n            onClick: () => saveToGitHub(setGithubStatus),\n            sx: {\n              background: \"linear-gradient(90deg, #2979ff 0%, #8f5cff 100%)\",\n              color: \"#fff\",\n              boxShadow: \"0 4px 18px 0 rgba(41,121,255,0.10)\",\n              fontWeight: 600,\n              textTransform: \"none\",\n              borderRadius: 2,\n              px: 3,\n              \"&:hover\": {\n                background: \"linear-gradient(90deg, #2763e1 0%, #6c40bb 100%)\"\n              }\n            },\n            children: \"Sauvegarder sur GitHub\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            startIcon: /*#__PURE__*/_jsxDEV(CloudDownloadIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 26\n            }, this),\n            onClick: exportJSON,\n            sx: {\n              background: \"#fff\",\n              color: \"#6c40bb\",\n              fontWeight: 700,\n              border: \"2px solid #8f5cff\",\n              boxShadow: \"0 2px 8px 0 rgba(41,121,255,0.08)\",\n              textTransform: \"none\",\n              borderRadius: 2,\n              px: 3,\n              \"&:hover\": {\n                background: \"#f3f0fb\"\n              }\n            },\n            children: \"Exporter en JSON\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            sx: {\n              ml: 2,\n              color: \"#888\",\n              alignSelf: \"center\"\n            },\n            children: githubStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), tab === 0 && /*#__PURE__*/_jsxDEV(TaskBoard, {\n          tasks: tasks,\n          users: users,\n          onAdd: handleTaskAdd,\n          onUpdate: handleTaskUpdate,\n          onDelete: handleTaskDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }, this), tab === 1 && /*#__PURE__*/_jsxDEV(ContactBoard, {\n          contacts: contacts,\n          onAdd: handleContactAdd,\n          onUpdate: handleContactUpdate,\n          onDelete: handleContactDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n        open: !!snack,\n        autoHideDuration: 2200,\n        onClose: () => setSnack(\"\"),\n        message: snack\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 289,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"c2xAdXNxFyNLTIvrxM3tMS4Wsm8=\");\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"AuthForm\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useCallback","useEffect","axios","ThemeProvider","CssBaseline","Box","AppBar","Toolbar","Typography","Button","Container","Paper","Tabs","Tab","Snackbar","Stack","ListAltIcon","PeopleAltIcon","SaveAltIcon","CloudDownloadIcon","LogoutIcon","ThemeOfTheMonth","TaskBoard","ContactBoard","ProgressDashboard","theme","jsPDF","autoTable","jsxDEV","_jsxDEV","getToken","localStorage","getItem","setToken","token","setItem","removeToken","removeItem","authHeaders","Authorization","AuthForm","onLogin","_s","mode","setMode","username","setUsername","password","setPassword","err","setErr","handleSubmit","e","preventDefault","post","res","data","_e$response","_e$response$data","response","error","maxWidth","sx","minHeight","display","alignItems","children","width","p","borderRadius","variant","fontWeight","align","mb","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","value","onChange","target","required","style","marginBottom","padding","fontSize","border","type","color","fullWidth","size","onClick","mt","_c","App","_s2","user","setUser","page","setPage","tasks","setTasks","contacts","setContacts","users","setUsers","githubStatus","setGithubStatus","snack","setSnack","tab","setTab","themeKey","setThemeKey","loadUserAndData","me","get","headers","tasksRes","contactsRes","usersRes","Promise","all","fetchTasks","fetchContacts","handleTaskAdd","task","handleTaskUpdate","id","update","put","handleTaskDelete","delete","handleContactAdd","contact","handleContactUpdate","handleContactDelete","saveToGitHub","setStatus","ok","exportJSON","blob","Blob","JSON","stringify","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","logout","handleThemeChanged","k","background","pb","position","elevation","flexGrow","mr","startIcon","onThemeChanged","_","v","boxShadow","icon","iconPosition","label","direction","spacing","justifyContent","textTransform","px","ml","alignSelf","onAdd","onUpdate","onDelete","open","autoHideDuration","onClose","message","_c2","$RefreshReg$"],"sources":["/Users/djsambolebindzi/Documents/AppRegardCrois-/dashboard-collaboratif-backup/src/App.js"],"sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  ThemeProvider,\n  CssBaseline,\n  Box,\n  AppBar,\n  Toolbar,\n  Typography,\n  Button,\n  Container,\n  Paper,\n  Tabs,\n  Tab,\n  Snackbar,\n  Stack,\n} from \"@mui/material\";\nimport ListAltIcon from \"@mui/icons-material/ListAlt\";\nimport PeopleAltIcon from \"@mui/icons-material/PeopleAlt\";\nimport SaveAltIcon from \"@mui/icons-material/SaveAlt\";\nimport CloudDownloadIcon from \"@mui/icons-material/CloudDownload\";\nimport LogoutIcon from \"@mui/icons-material/Logout\";\nimport ThemeOfTheMonth from \"./components/ThemeOfTheMonth\";\nimport TaskBoard from \"./components/TaskBoard\";\nimport ContactBoard from \"./components/ContactBoard\";\nimport ProgressDashboard from \"./components/ProgressDashboard\";\nimport theme from \"./theme\";\nimport jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\n\nfunction getToken() {\n  return localStorage.getItem(\"token\");\n}\nfunction setToken(token) {\n  localStorage.setItem(\"token\", token);\n}\nfunction removeToken() {\n  localStorage.removeItem(\"token\");\n}\nfunction authHeaders() {\n  return { Authorization: \"Bearer \" + getToken() };\n}\n\nfunction AuthForm({ onLogin }) {\n  const [mode, setMode] = useState(\"login\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setErr(\"\");\n    try {\n      if (mode === \"register\") {\n        await axios.post(\"http://localhost:4000/register\", {\n          username,\n          password,\n        });\n        setMode(\"login\");\n        setErr(\"Compte créé. Connectez-vous !\");\n      } else {\n        const res = await axios.post(\"http://localhost:4000/login\", {\n          username,\n          password,\n        });\n        setToken(res.data.token);\n        await onLogin();\n      }\n    } catch (e) {\n      setErr(e?.response?.data?.error || \"Erreur serveur\");\n    }\n  }\n  return (\n    <Container\n      maxWidth=\"xs\"\n      sx={{ minHeight: \"100vh\", display: \"flex\", alignItems: \"center\" }}\n    >\n      <Paper sx={{ width: \"100%\", p: 4, borderRadius: 4 }}>\n        <Typography variant=\"h5\" fontWeight={700} align=\"center\" mb={2}>\n          {mode === \"login\" ? \"Connexion\" : \"Inscription\"}\n        </Typography>\n        <form onSubmit={handleSubmit}>\n          <input\n            placeholder=\"Nom d'utilisateur\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            required\n            style={{\n              width: \"100%\",\n              marginBottom: 12,\n              padding: 10,\n              fontSize: 16,\n              borderRadius: 6,\n              border: \"1px solid #eaeaea\",\n            }}\n          />\n          <input\n            placeholder=\"Mot de passe\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n            type=\"password\"\n            style={{\n              width: \"100%\",\n              marginBottom: 12,\n              padding: 10,\n              fontSize: 16,\n              borderRadius: 6,\n              border: \"1px solid #eaeaea\",\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n            fullWidth\n            sx={{ mb: 1, fontWeight: 600 }}\n          >\n            {mode === \"login\" ? \"Se connecter\" : \"Créer un compte\"}\n          </Button>\n        </form>\n        <Button\n          color=\"secondary\"\n          fullWidth\n          size=\"small\"\n          onClick={() => setMode(mode === \"login\" ? \"register\" : \"login\")}\n        >\n          {mode === \"login\" ? \"Créer un compte\" : \"Déjà inscrit ? Se connecter\"}\n        </Button>\n        {err && (\n          <Typography color=\"error\" align=\"center\" sx={{ mt: 2 }}>\n            {err}\n          </Typography>\n        )}\n      </Paper>\n    </Container>\n  );\n}\n\nexport default function App() {\n  const [user, setUser] = useState(null);\n  const [page, setPage] = useState(\"loading\");\n  const [tasks, setTasks] = useState([]);\n  const [contacts, setContacts] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [githubStatus, setGithubStatus] = useState(\"\");\n  const [snack, setSnack] = useState(\"\");\n  const [tab, setTab] = useState(0);\n\n  // Nouvelle variable pour forcer le refresh du thème après édition\n  const [themeKey, setThemeKey] = useState(0);\n\n  // Load everything\n  const loadUserAndData = useCallback(async () => {\n    const token = getToken();\n    if (!token) {\n      setUser(null);\n      setPage(\"auth\");\n      setTasks([]);\n      setContacts([]);\n      setUsers([]);\n      return;\n    }\n    try {\n      const me = await axios.get(\"http://localhost:4000/me\", {\n        headers: authHeaders(),\n      });\n      setUser(me.data);\n      setPage(\"dashboard\");\n      const [tasksRes, contactsRes, usersRes] = await Promise.all([\n        axios.get(\"http://localhost:4000/tasks\", { headers: authHeaders() }),\n        axios.get(\"http://localhost:4000/contacts\", { headers: authHeaders() }),\n        axios.get(\"http://localhost:4000/users\", { headers: authHeaders() }),\n      ]);\n      setTasks(tasksRes.data);\n      setContacts(contactsRes.data);\n      setUsers(usersRes.data);\n    } catch (e) {\n      removeToken();\n      setUser(null);\n      setPage(\"auth\");\n      setTasks([]);\n      setContacts([]);\n      setUsers([]);\n    }\n  }, []);\n  useEffect(() => {\n    loadUserAndData();\n  }, [loadUserAndData]);\n\n  // CRUD\n  const fetchTasks = async () => {\n    const res = await axios.get(\"http://localhost:4000/tasks\", {\n      headers: authHeaders(),\n    });\n    setTasks(res.data);\n  };\n  const fetchContacts = async () => {\n    const res = await axios.get(\"http://localhost:4000/contacts\", {\n      headers: authHeaders(),\n    });\n    setContacts(res.data);\n  };\n  const handleTaskAdd = async (task) => {\n    await axios.post(\"http://localhost:4000/tasks\", task, {\n      headers: authHeaders(),\n    });\n    fetchTasks();\n    setSnack(\"Tâche ajoutée !\");\n  };\n  const handleTaskUpdate = async (id, update) => {\n    await axios.put(`http://localhost:4000/tasks/${id}`, update, {\n      headers: authHeaders(),\n    });\n    fetchTasks();\n    setSnack(\"Tâche modifiée\");\n  };\n  const handleTaskDelete = async (id) => {\n    await axios.delete(`http://localhost:4000/tasks/${id}`, {\n      headers: authHeaders(),\n    });\n    fetchTasks();\n    setSnack(\"Tâche supprimée\");\n  };\n  const handleContactAdd = async (contact) => {\n    await axios.post(\"http://localhost:4000/contacts\", contact, {\n      headers: authHeaders(),\n    });\n    fetchContacts();\n    setSnack(\"Contact ajouté !\");\n  };\n  const handleContactUpdate = async (id, update) => {\n    await axios.put(`http://localhost:4000/contacts/${id}`, update, {\n      headers: authHeaders(),\n    });\n    fetchContacts();\n    setSnack(\"Contact modifié\");\n  };\n  const handleContactDelete = async (id) => {\n    await axios.delete(`http://localhost:4000/contacts/${id}`, {\n      headers: authHeaders(),\n    });\n    fetchContacts();\n    setSnack(\"Contact supprimé\");\n  };\n\n  async function saveToGitHub(setStatus) {\n    setStatus(\"Envoi sur GitHub...\");\n    try {\n      const res = await axios.post(\"http://localhost:4000/github-save\", {\n        tasks,\n        contacts,\n      });\n      setStatus(\n        res.data.ok\n          ? \"Sauvegardé sur GitHub !\"\n          : \"Erreur : fallback issue GitHub créé\"\n      );\n    } catch {\n      setStatus(\"Erreur critique lors de la sauvegarde\");\n    }\n  }\n  function exportJSON() {\n    const blob = new Blob([JSON.stringify({ tasks, contacts }, null, 2)], {\n      type: \"application/json\",\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"dashboard-export.json\";\n    a.click();\n    URL.revokeObjectURL(url);\n  }\n  function logout() {\n    removeToken();\n    setUser(null);\n    setPage(\"auth\");\n    setTasks([]);\n    setContacts([]);\n    setUsers([]);\n  }\n\n  // Handler pour que ThemeOfTheMonth puisse notifier App d'une modification\n  const handleThemeChanged = () => setThemeKey((k) => k + 1);\n\n  if (page === \"loading\") return <div>Chargement…</div>;\n  if (page === \"auth\") return <AuthForm onLogin={loadUserAndData} />;\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Box\n        sx={{\n          minHeight: \"100vh\",\n          background: \"linear-gradient(120deg, #2979ff 0%, #8f5cff 100%)\",\n          pb: 8,\n        }}\n      >\n        <AppBar\n          position=\"static\"\n          color=\"primary\"\n          elevation={0}\n          sx={{ background: \"rgba(41,121,255,0.93)\" }}\n        >\n          <Toolbar>\n            <Typography variant=\"h6\" sx={{ flexGrow: 1, fontWeight: 700 }}>\n              Dashboard Collaboratif\n            </Typography>\n            <Typography sx={{ mr: 2 }}>\n              Connecté en tant que <b>{user?.username}</b>\n            </Typography>\n            <Button color=\"inherit\" startIcon={<LogoutIcon />} onClick={logout}>\n              Se déconnecter\n            </Button>\n          </Toolbar>\n        </AppBar>\n        <Container maxWidth=\"md\" sx={{ mt: 4 }}>\n          {/* Thème du mois (éditable pour admin) */}\n          <ThemeOfTheMonth\n            key={themeKey}\n            user={user}\n            onThemeChanged={handleThemeChanged}\n          />\n\n          {/* Dashboard/Stats (glasscard) */}\n          <Paper elevation={3} sx={{ p: 3, mb: 4 }}>\n            <ProgressDashboard tasks={tasks} />\n          </Paper>\n\n          {/* Tabs Navigation */}\n          <Tabs\n            value={tab}\n            onChange={(_, v) => setTab(v)}\n            variant=\"fullWidth\"\n            sx={{\n              mb: 3,\n              borderRadius: 2,\n              boxShadow: \"0 2px 12px rgba(80,80,120,0.13)\",\n              background: \"rgba(255,255,255,0.94)\",\n            }}\n          >\n            <Tab\n              icon={<ListAltIcon />}\n              iconPosition=\"start\"\n              label=\"Tâches\"\n              sx={{ fontWeight: 700 }}\n            />\n            <Tab\n              icon={<PeopleAltIcon />}\n              iconPosition=\"start\"\n              label=\"Contacts\"\n              sx={{ fontWeight: 700 }}\n            />\n          </Tabs>\n\n          {/* Action buttons */}\n          <Stack direction=\"row\" spacing={2} mb={4} justifyContent=\"flex-end\">\n            <Button\n              variant=\"contained\"\n              startIcon={<SaveAltIcon />}\n              onClick={() => saveToGitHub(setGithubStatus)}\n              sx={{\n                background: \"linear-gradient(90deg, #2979ff 0%, #8f5cff 100%)\",\n                color: \"#fff\",\n                boxShadow: \"0 4px 18px 0 rgba(41,121,255,0.10)\",\n                fontWeight: 600,\n                textTransform: \"none\",\n                borderRadius: 2,\n                px: 3,\n                \"&:hover\": {\n                  background:\n                    \"linear-gradient(90deg, #2763e1 0%, #6c40bb 100%)\",\n                },\n              }}\n            >\n              Sauvegarder sur GitHub\n            </Button>\n            <Button\n              variant=\"contained\"\n              startIcon={<CloudDownloadIcon />}\n              onClick={exportJSON}\n              sx={{\n                background: \"#fff\",\n                color: \"#6c40bb\",\n                fontWeight: 700,\n                border: \"2px solid #8f5cff\",\n                boxShadow: \"0 2px 8px 0 rgba(41,121,255,0.08)\",\n                textTransform: \"none\",\n                borderRadius: 2,\n                px: 3,\n                \"&:hover\": {\n                  background: \"#f3f0fb\",\n                },\n              }}\n            >\n              Exporter en JSON\n            </Button>\n            <Typography sx={{ ml: 2, color: \"#888\", alignSelf: \"center\" }}>\n              {githubStatus}\n            </Typography>\n          </Stack>\n\n          {/* Onglets */}\n          {tab === 0 && (\n            <TaskBoard\n              tasks={tasks}\n              users={users}\n              onAdd={handleTaskAdd}\n              onUpdate={handleTaskUpdate}\n              onDelete={handleTaskDelete}\n            />\n          )}\n          {tab === 1 && (\n            <ContactBoard\n              contacts={contacts}\n              onAdd={handleContactAdd}\n              onUpdate={handleContactUpdate}\n              onDelete={handleContactDelete}\n            />\n          )}\n        </Container>\n        <Snackbar\n          open={!!snack}\n          autoHideDuration={2200}\n          onClose={() => setSnack(\"\")}\n          message={snack}\n        />\n      </Box>\n    </ThemeProvider>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}