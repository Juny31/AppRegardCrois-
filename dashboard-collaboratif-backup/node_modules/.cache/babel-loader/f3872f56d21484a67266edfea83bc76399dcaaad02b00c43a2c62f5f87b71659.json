{"ast":null,"code":"var _jsxFileName = \"/Users/djsambolebindzi/Documents/AppRegardCrois-/dashboard-collaboratif-backup/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { ThemeProvider, CssBaseline, Box, AppBar, Toolbar, Typography, Button, Container, Paper, Tabs, Tab, Snackbar, Stack } from \"@mui/material\";\nimport ListAltIcon from '@mui/icons-material/ListAlt';\nimport PeopleAltIcon from '@mui/icons-material/PeopleAlt';\nimport SaveAltIcon from '@mui/icons-material/SaveAlt';\nimport CloudDownloadIcon from '@mui/icons-material/CloudDownload';\nimport LogoutIcon from '@mui/icons-material/Logout';\nimport ThemeOfTheMonth from \"./components/ThemeOfTheMonth\";\nimport TaskBoard from \"./components/TaskBoard\";\nimport ContactBoard from \"./components/ContactBoard\";\nimport ProgressDashboard from \"./components/ProgressDashboard\";\nimport theme from \"./theme\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getToken() {\n  return localStorage.getItem('token');\n}\nfunction setToken(token) {\n  localStorage.setItem('token', token);\n}\nfunction removeToken() {\n  localStorage.removeItem('token');\n}\nfunction authHeaders() {\n  return {\n    Authorization: \"Bearer \" + getToken()\n  };\n}\nfunction AuthForm({\n  onLogin\n}) {\n  _s();\n  const [mode, setMode] = useState(\"login\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setErr(\"\");\n    try {\n      if (mode === \"register\") {\n        await axios.post(\"http://localhost:4000/register\", {\n          username,\n          password\n        });\n        setMode(\"login\");\n        setErr(\"Compte créé. Connectez-vous !\");\n      } else {\n        const res = await axios.post(\"http://localhost:4000/login\", {\n          username,\n          password\n        });\n        setToken(res.data.token);\n        await onLogin();\n      }\n    } catch (e) {\n      var _e$response, _e$response$data;\n      setErr((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.error) || \"Erreur serveur\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"xs\",\n    sx: {\n      minHeight: \"100vh\",\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        width: \"100%\",\n        p: 4,\n        borderRadius: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        fontWeight: 700,\n        align: \"center\",\n        mb: 2,\n        children: mode === \"login\" ? \"Connexion\" : \"Inscription\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Nom d'utilisateur\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          required: true,\n          style: {\n            width: \"100%\",\n            marginBottom: 12,\n            padding: 10,\n            fontSize: 16,\n            borderRadius: 6,\n            border: '1px solid #eaeaea'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Mot de passe\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          required: true,\n          type: \"password\",\n          style: {\n            width: \"100%\",\n            marginBottom: 12,\n            padding: 10,\n            fontSize: 16,\n            borderRadius: 6,\n            border: '1px solid #eaeaea'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          type: \"submit\",\n          fullWidth: true,\n          sx: {\n            mb: 1,\n            fontWeight: 600\n          },\n          children: mode === \"login\" ? \"Se connecter\" : \"Créer un compte\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"secondary\",\n        fullWidth: true,\n        size: \"small\",\n        onClick: () => setMode(mode === \"login\" ? \"register\" : \"login\"),\n        children: mode === \"login\" ? \"Créer un compte\" : \"Déjà inscrit ? Se connecter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), err && /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        align: \"center\",\n        sx: {\n          mt: 2\n        },\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(AuthForm, \"24LrsqD3gtqJ7Jt6DkEg/bnscKM=\");\n_c = AuthForm;\nexport default function App() {\n  _s2();\n  const [user, setUser] = useState(null);\n  const [page, setPage] = useState(\"loading\");\n  const [tasks, setTasks] = useState([]);\n  const [contacts, setContacts] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [githubStatus, setGithubStatus] = useState('');\n  const [snack, setSnack] = useState('');\n  const [tab, setTab] = useState(0);\n\n  // Nouvelle variable pour forcer le refresh du thème après édition\n  const [themeKey, setThemeKey] = useState(0);\n\n  // Load everything\n  const loadUserAndData = useCallback(async () => {\n    const token = getToken();\n    if (!token) {\n      setUser(null);\n      setPage(\"auth\");\n      setTasks([]);\n      setContacts([]);\n      setUsers([]);\n      return;\n    }\n    try {\n      const me = await axios.get(\"http://localhost:4000/me\", {\n        headers: authHeaders()\n      });\n      setUser(me.data);\n      setPage(\"dashboard\");\n      const [tasksRes, contactsRes, usersRes] = await Promise.all([axios.get(\"http://localhost:4000/tasks\", {\n        headers: authHeaders()\n      }), axios.get(\"http://localhost:4000/contacts\", {\n        headers: authHeaders()\n      }), axios.get(\"http://localhost:4000/users\", {\n        headers: authHeaders()\n      })]);\n      setTasks(tasksRes.data);\n      setContacts(contactsRes.data);\n      setUsers(usersRes.data);\n    } catch (e) {\n      removeToken();\n      setUser(null);\n      setPage(\"auth\");\n      setTasks([]);\n      setContacts([]);\n      setUsers([]);\n    }\n  }, []);\n  useEffect(() => {\n    loadUserAndData();\n  }, [loadUserAndData]);\n\n  // CRUD\n  const fetchTasks = async () => {\n    const res = await axios.get(\"http://localhost:4000/tasks\", {\n      headers: authHeaders()\n    });\n    setTasks(res.data);\n  };\n  const fetchContacts = async () => {\n    const res = await axios.get(\"http://localhost:4000/contacts\", {\n      headers: authHeaders()\n    });\n    setContacts(res.data);\n  };\n  const handleTaskAdd = async task => {\n    await axios.post(\"http://localhost:4000/tasks\", task, {\n      headers: authHeaders()\n    });\n    fetchTasks();\n    setSnack('Tâche ajoutée !');\n  };\n  const handleTaskUpdate = async (id, update) => {\n    await axios.put(`http://localhost:4000/tasks/${id}`, update, {\n      headers: authHeaders()\n    });\n    fetchTasks();\n    setSnack('Tâche modifiée');\n  };\n  const handleTaskDelete = async id => {\n    await axios.delete(`http://localhost:4000/tasks/${id}`, {\n      headers: authHeaders()\n    });\n    fetchTasks();\n    setSnack('Tâche supprimée');\n  };\n  const handleContactAdd = async contact => {\n    await axios.post(\"http://localhost:4000/contacts\", contact, {\n      headers: authHeaders()\n    });\n    fetchContacts();\n    setSnack('Contact ajouté !');\n  };\n  const handleContactUpdate = async (id, update) => {\n    await axios.put(`http://localhost:4000/contacts/${id}`, update, {\n      headers: authHeaders()\n    });\n    fetchContacts();\n    setSnack('Contact modifié');\n  };\n  const handleContactDelete = async id => {\n    await axios.delete(`http://localhost:4000/contacts/${id}`, {\n      headers: authHeaders()\n    });\n    fetchContacts();\n    setSnack('Contact supprimé');\n  };\n  async function saveToGitHub(setStatus) {\n    setStatus(\"Envoi sur GitHub...\");\n    try {\n      const res = await axios.post(\"http://localhost:4000/github-save\", {\n        tasks,\n        contacts\n      });\n      setStatus(res.data.ok ? \"Sauvegardé sur GitHub !\" : \"Erreur : fallback issue GitHub créé\");\n    } catch {\n      setStatus(\"Erreur critique lors de la sauvegarde\");\n    }\n  }\n  function exportJSON() {\n    const blob = new Blob([JSON.stringify({\n      tasks,\n      contacts\n    }, null, 2)], {\n      type: \"application/json\"\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"dashboard-export.json\";\n    a.click();\n    URL.revokeObjectURL(url);\n  }\n  function logout() {\n    removeToken();\n    setUser(null);\n    setPage(\"auth\");\n    setTasks([]);\n    setContacts([]);\n    setUsers([]);\n  }\n\n  // Handler pour que ThemeOfTheMonth puisse notifier App d'une modification\n  const handleThemeChanged = () => setThemeKey(k => k + 1);\n  if (page === \"loading\") return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Chargement\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 34\n  }, this);\n  if (page === \"auth\") return /*#__PURE__*/_jsxDEV(AuthForm, {\n    onLogin: loadUserAndData\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 31\n  }, this);\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        minHeight: \"100vh\",\n        background: \"linear-gradient(120deg, #2979ff 0%, #8f5cff 100%)\",\n        pb: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"static\",\n        color: \"primary\",\n        elevation: 0,\n        sx: {\n          background: \"rgba(41,121,255,0.93)\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Toolbar, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            sx: {\n              flexGrow: 1,\n              fontWeight: 700\n            },\n            children: \"Dashboard Collaboratif\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            sx: {\n              mr: 2\n            },\n            children: [\"Connect\\xE9 en tant que \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: user === null || user === void 0 ? void 0 : user.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 36\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"inherit\",\n            startIcon: /*#__PURE__*/_jsxDEV(LogoutIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 48\n            }, this),\n            onClick: logout,\n            children: \"Se d\\xE9connecter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"md\",\n        sx: {\n          mt: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(ThemeOfTheMonth, {\n          user: user,\n          onThemeChanged: handleThemeChanged\n        }, themeKey, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 3,\n          sx: {\n            p: 3,\n            mb: 4\n          },\n          children: /*#__PURE__*/_jsxDEV(ProgressDashboard, {\n            tasks: tasks\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n          value: tab,\n          onChange: (_, v) => setTab(v),\n          variant: \"fullWidth\",\n          sx: {\n            mb: 3,\n            borderRadius: 2,\n            boxShadow: \"0 2px 12px rgba(80,80,120,0.13)\",\n            background: \"rgba(255,255,255,0.94)\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            icon: /*#__PURE__*/_jsxDEV(ListAltIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 24\n            }, this),\n            iconPosition: \"start\",\n            label: \"T\\xE2ches\",\n            sx: {\n              fontWeight: 700\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            icon: /*#__PURE__*/_jsxDEV(PeopleAltIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 24\n            }, this),\n            iconPosition: \"start\",\n            label: \"Contacts\",\n            sx: {\n              fontWeight: 700\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          spacing: 2,\n          mb: 4,\n          justifyContent: \"flex-end\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            startIcon: /*#__PURE__*/_jsxDEV(SaveAltIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 16\n            }, this),\n            onClick: () => saveToGitHub(setGithubStatus),\n            sx: {\n              background: \"linear-gradient(90deg, #2979ff 0%, #8f5cff 100%)\",\n              color: \"#fff\",\n              boxShadow: \"0 4px 18px 0 rgba(41,121,255,0.10)\",\n              fontWeight: 600,\n              textTransform: \"none\",\n              borderRadius: 2,\n              px: 3,\n              '&:hover': {\n                background: \"linear-gradient(90deg, #2763e1 0%, #6c40bb 100%)\"\n              }\n            },\n            children: \"Sauvegarder sur GitHub\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            startIcon: /*#__PURE__*/_jsxDEV(CloudDownloadIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 16\n            }, this),\n            onClick: exportJSON,\n            sx: {\n              background: \"#fff\",\n              color: \"#6c40bb\",\n              fontWeight: 700,\n              border: \"2px solid #8f5cff\",\n              boxShadow: \"0 2px 8px 0 rgba(41,121,255,0.08)\",\n              textTransform: \"none\",\n              borderRadius: 2,\n              px: 3,\n              '&:hover': {\n                background: \"#f3f0fb\"\n              }\n            },\n            children: \"Exporter en JSON\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            sx: {\n              ml: 2,\n              color: \"#888\",\n              alignSelf: \"center\"\n            },\n            children: githubStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), tab === 0 && /*#__PURE__*/_jsxDEV(TaskBoard, {\n          tasks: tasks,\n          users: users,\n          onAdd: handleTaskAdd,\n          onUpdate: handleTaskUpdate,\n          onDelete: handleTaskDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this), tab === 1 && /*#__PURE__*/_jsxDEV(ContactBoard, {\n          contacts: contacts,\n          onAdd: handleContactAdd,\n          onUpdate: handleContactUpdate,\n          onDelete: handleContactDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n        open: !!snack,\n        autoHideDuration: 2200,\n        onClose: () => setSnack(''),\n        message: snack\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"043PzbXWUVOnOIJm7hAm14ugwHA=\");\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"AuthForm\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useCallback","useEffect","axios","ThemeProvider","CssBaseline","Box","AppBar","Toolbar","Typography","Button","Container","Paper","Tabs","Tab","Snackbar","Stack","ListAltIcon","PeopleAltIcon","SaveAltIcon","CloudDownloadIcon","LogoutIcon","ThemeOfTheMonth","TaskBoard","ContactBoard","ProgressDashboard","theme","jsxDEV","_jsxDEV","getToken","localStorage","getItem","setToken","token","setItem","removeToken","removeItem","authHeaders","Authorization","AuthForm","onLogin","_s","mode","setMode","username","setUsername","password","setPassword","err","setErr","handleSubmit","e","preventDefault","post","res","data","_e$response","_e$response$data","response","error","maxWidth","sx","minHeight","display","alignItems","children","width","p","borderRadius","variant","fontWeight","align","mb","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","value","onChange","target","required","style","marginBottom","padding","fontSize","border","type","color","fullWidth","size","onClick","mt","_c","App","_s2","user","setUser","page","setPage","tasks","setTasks","contacts","setContacts","users","setUsers","githubStatus","setGithubStatus","snack","setSnack","tab","setTab","themeKey","setThemeKey","loadUserAndData","me","get","headers","tasksRes","contactsRes","usersRes","Promise","all","fetchTasks","fetchContacts","handleTaskAdd","task","handleTaskUpdate","id","update","put","handleTaskDelete","delete","handleContactAdd","contact","handleContactUpdate","handleContactDelete","saveToGitHub","setStatus","ok","exportJSON","blob","Blob","JSON","stringify","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","logout","handleThemeChanged","k","background","pb","position","elevation","flexGrow","mr","startIcon","onThemeChanged","_","v","boxShadow","icon","iconPosition","label","direction","spacing","justifyContent","textTransform","px","ml","alignSelf","onAdd","onUpdate","onDelete","open","autoHideDuration","onClose","message","_c2","$RefreshReg$"],"sources":["/Users/djsambolebindzi/Documents/AppRegardCrois-/dashboard-collaboratif-backup/src/App.js"],"sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { ThemeProvider, CssBaseline, Box, AppBar, Toolbar, Typography, Button, Container, Paper, Tabs, Tab, Snackbar, Stack } from \"@mui/material\";\nimport ListAltIcon from '@mui/icons-material/ListAlt';\nimport PeopleAltIcon from '@mui/icons-material/PeopleAlt';\nimport SaveAltIcon from '@mui/icons-material/SaveAlt';\nimport CloudDownloadIcon from '@mui/icons-material/CloudDownload';\nimport LogoutIcon from '@mui/icons-material/Logout';\nimport ThemeOfTheMonth from \"./components/ThemeOfTheMonth\";\nimport TaskBoard from \"./components/TaskBoard\";\nimport ContactBoard from \"./components/ContactBoard\";\nimport ProgressDashboard from \"./components/ProgressDashboard\";\nimport theme from \"./theme\";\n\nfunction getToken() { return localStorage.getItem('token'); }\nfunction setToken(token) { localStorage.setItem('token', token); }\nfunction removeToken() { localStorage.removeItem('token'); }\nfunction authHeaders() { return { Authorization: \"Bearer \" + getToken() }; }\n\nfunction AuthForm({ onLogin }) {\n  const [mode, setMode] = useState(\"login\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setErr(\"\");\n    try {\n      if (mode === \"register\") {\n        await axios.post(\"http://localhost:4000/register\", { username, password });\n        setMode(\"login\");\n        setErr(\"Compte créé. Connectez-vous !\");\n      } else {\n        const res = await axios.post(\"http://localhost:4000/login\", { username, password });\n        setToken(res.data.token);\n        await onLogin();\n      }\n    } catch (e) {\n      setErr(e?.response?.data?.error || \"Erreur serveur\");\n    }\n  }\n  return (\n    <Container maxWidth=\"xs\" sx={{ minHeight: \"100vh\", display: \"flex\", alignItems: \"center\" }}>\n      <Paper sx={{ width: \"100%\", p: 4, borderRadius: 4 }}>\n        <Typography variant=\"h5\" fontWeight={700} align=\"center\" mb={2}>\n          {mode === \"login\" ? \"Connexion\" : \"Inscription\"}\n        </Typography>\n        <form onSubmit={handleSubmit}>\n          <input placeholder=\"Nom d'utilisateur\" value={username} onChange={e => setUsername(e.target.value)} required style={{ width: \"100%\", marginBottom: 12, padding: 10, fontSize: 16, borderRadius: 6, border: '1px solid #eaeaea' }} />\n          <input placeholder=\"Mot de passe\" value={password} onChange={e => setPassword(e.target.value)} required type=\"password\" style={{ width: \"100%\", marginBottom: 12, padding: 10, fontSize: 16, borderRadius: 6, border: '1px solid #eaeaea' }} />\n          <Button variant=\"contained\" color=\"primary\" type=\"submit\" fullWidth sx={{ mb: 1, fontWeight: 600 }}>\n            {mode === \"login\" ? \"Se connecter\" : \"Créer un compte\"}\n          </Button>\n        </form>\n        <Button color=\"secondary\" fullWidth size=\"small\" onClick={() => setMode(mode === \"login\" ? \"register\" : \"login\")}>\n          {mode === \"login\" ? \"Créer un compte\" : \"Déjà inscrit ? Se connecter\"}\n        </Button>\n        {err && <Typography color=\"error\" align=\"center\" sx={{ mt: 2 }}>{err}</Typography>}\n      </Paper>\n    </Container>\n  );\n}\n\nexport default function App() {\n  const [user, setUser] = useState(null);\n  const [page, setPage] = useState(\"loading\");\n  const [tasks, setTasks] = useState([]);\n  const [contacts, setContacts] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [githubStatus, setGithubStatus] = useState('');\n  const [snack, setSnack] = useState('');\n  const [tab, setTab] = useState(0);\n\n  // Nouvelle variable pour forcer le refresh du thème après édition\n  const [themeKey, setThemeKey] = useState(0);\n\n  // Load everything\n  const loadUserAndData = useCallback(async () => {\n    const token = getToken();\n    if (!token) {\n      setUser(null);\n      setPage(\"auth\");\n      setTasks([]); setContacts([]); setUsers([]);\n      return;\n    }\n    try {\n      const me = await axios.get(\"http://localhost:4000/me\", { headers: authHeaders() });\n      setUser(me.data);\n      setPage(\"dashboard\");\n      const [tasksRes, contactsRes, usersRes] = await Promise.all([\n        axios.get(\"http://localhost:4000/tasks\", { headers: authHeaders() }),\n        axios.get(\"http://localhost:4000/contacts\", { headers: authHeaders() }),\n        axios.get(\"http://localhost:4000/users\", { headers: authHeaders() }),\n      ]);\n      setTasks(tasksRes.data);\n      setContacts(contactsRes.data);\n      setUsers(usersRes.data);\n    } catch (e) {\n      removeToken(); setUser(null); setPage(\"auth\");\n      setTasks([]); setContacts([]); setUsers([]);\n    }\n  }, []);\n  useEffect(() => { loadUserAndData(); }, [loadUserAndData]);\n\n  // CRUD\n  const fetchTasks = async () => {\n    const res = await axios.get(\"http://localhost:4000/tasks\", { headers: authHeaders() });\n    setTasks(res.data);\n  };\n  const fetchContacts = async () => {\n    const res = await axios.get(\"http://localhost:4000/contacts\", { headers: authHeaders() });\n    setContacts(res.data);\n  };\n  const handleTaskAdd = async (task) => {\n    await axios.post(\"http://localhost:4000/tasks\", task, { headers: authHeaders() });\n    fetchTasks();\n    setSnack('Tâche ajoutée !');\n  };\n  const handleTaskUpdate = async (id, update) => {\n    await axios.put(`http://localhost:4000/tasks/${id}`, update, { headers: authHeaders() });\n    fetchTasks();\n    setSnack('Tâche modifiée');\n  };\n  const handleTaskDelete = async (id) => {\n    await axios.delete(`http://localhost:4000/tasks/${id}`, { headers: authHeaders() });\n    fetchTasks();\n    setSnack('Tâche supprimée');\n  };\n  const handleContactAdd = async (contact) => {\n    await axios.post(\"http://localhost:4000/contacts\", contact, { headers: authHeaders() });\n    fetchContacts();\n    setSnack('Contact ajouté !');\n  };\n  const handleContactUpdate = async (id, update) => {\n    await axios.put(`http://localhost:4000/contacts/${id}`, update, { headers: authHeaders() });\n    fetchContacts();\n    setSnack('Contact modifié');\n  };\n  const handleContactDelete = async (id) => {\n    await axios.delete(`http://localhost:4000/contacts/${id}`, { headers: authHeaders() });\n    fetchContacts();\n    setSnack('Contact supprimé');\n  };\n\n  async function saveToGitHub(setStatus) {\n    setStatus(\"Envoi sur GitHub...\");\n    try {\n      const res = await axios.post(\"http://localhost:4000/github-save\", { tasks, contacts });\n      setStatus(res.data.ok ? \"Sauvegardé sur GitHub !\" : \"Erreur : fallback issue GitHub créé\");\n    } catch {\n      setStatus(\"Erreur critique lors de la sauvegarde\");\n    }\n  }\n  function exportJSON() {\n    const blob = new Blob([JSON.stringify({ tasks, contacts }, null, 2)], { type: \"application/json\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url; a.download = \"dashboard-export.json\"; a.click();\n    URL.revokeObjectURL(url);\n  }\n  function logout() {\n    removeToken(); setUser(null); setPage(\"auth\");\n    setTasks([]); setContacts([]); setUsers([]);\n  }\n\n  // Handler pour que ThemeOfTheMonth puisse notifier App d'une modification\n  const handleThemeChanged = () => setThemeKey(k => k + 1);\n\n  if (page === \"loading\") return <div>Chargement…</div>;\n  if (page === \"auth\") return <AuthForm onLogin={loadUserAndData} />;\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Box\n        sx={{\n          minHeight: \"100vh\",\n          background: \"linear-gradient(120deg, #2979ff 0%, #8f5cff 100%)\",\n          pb: 8\n        }}\n      >\n        <AppBar position=\"static\" color=\"primary\" elevation={0} sx={{ background: \"rgba(41,121,255,0.93)\" }}>\n          <Toolbar>\n            <Typography variant=\"h6\" sx={{ flexGrow: 1, fontWeight: 700 }}>\n              Dashboard Collaboratif\n            </Typography>\n            <Typography sx={{ mr: 2 }}>\n              Connecté en tant que <b>{user?.username}</b>\n            </Typography>\n            <Button color=\"inherit\" startIcon={<LogoutIcon />} onClick={logout}>\n              Se déconnecter\n            </Button>\n          </Toolbar>\n        </AppBar>\n        <Container maxWidth=\"md\" sx={{ mt: 4 }}>\n          {/* Thème du mois (éditable pour admin) */}\n          <ThemeOfTheMonth\n            key={themeKey}\n            user={user}\n            onThemeChanged={handleThemeChanged}\n          />\n\n          {/* Dashboard/Stats (glasscard) */}\n          <Paper elevation={3} sx={{ p: 3, mb: 4 }}>\n            <ProgressDashboard tasks={tasks} />\n          </Paper>\n\n          {/* Tabs Navigation */}\n          <Tabs\n            value={tab}\n            onChange={(_, v) => setTab(v)}\n            variant=\"fullWidth\"\n            sx={{\n              mb: 3,\n              borderRadius: 2,\n              boxShadow: \"0 2px 12px rgba(80,80,120,0.13)\",\n              background: \"rgba(255,255,255,0.94)\"\n            }}\n          >\n            <Tab icon={<ListAltIcon />} iconPosition=\"start\" label=\"Tâches\" sx={{ fontWeight: 700 }} />\n            <Tab icon={<PeopleAltIcon />} iconPosition=\"start\" label=\"Contacts\" sx={{ fontWeight: 700 }} />\n          </Tabs>\n\n          {/* Action buttons */}\n          <Stack direction=\"row\" spacing={2} mb={4} justifyContent=\"flex-end\">\n  <Button\n    variant=\"contained\"\n    startIcon={<SaveAltIcon />}\n    onClick={() => saveToGitHub(setGithubStatus)}\n    sx={{\n      background: \"linear-gradient(90deg, #2979ff 0%, #8f5cff 100%)\",\n      color: \"#fff\",\n      boxShadow: \"0 4px 18px 0 rgba(41,121,255,0.10)\",\n      fontWeight: 600,\n      textTransform: \"none\",\n      borderRadius: 2,\n      px: 3,\n      '&:hover': {\n        background: \"linear-gradient(90deg, #2763e1 0%, #6c40bb 100%)\"\n      }\n    }}\n  >\n    Sauvegarder sur GitHub\n  </Button>\n  <Button\n    variant=\"contained\"\n    startIcon={<CloudDownloadIcon />}\n    onClick={exportJSON}\n    sx={{\n      background: \"#fff\",\n      color: \"#6c40bb\",\n      fontWeight: 700,\n      border: \"2px solid #8f5cff\",\n      boxShadow: \"0 2px 8px 0 rgba(41,121,255,0.08)\",\n      textTransform: \"none\",\n      borderRadius: 2,\n      px: 3,\n      '&:hover': {\n        background: \"#f3f0fb\"\n      }\n    }}\n  >\n    Exporter en JSON\n  </Button>\n  <Typography sx={{ ml: 2, color: \"#888\", alignSelf: \"center\" }}>{githubStatus}</Typography>\n</Stack>\n\n          {/* Onglets */}\n          {tab === 0 && (\n            <TaskBoard\n              tasks={tasks}\n              users={users}\n              onAdd={handleTaskAdd}\n              onUpdate={handleTaskUpdate}\n              onDelete={handleTaskDelete}\n            />\n          )}\n          {tab === 1 && (\n            <ContactBoard\n              contacts={contacts}\n              onAdd={handleContactAdd}\n              onUpdate={handleContactUpdate}\n              onDelete={handleContactDelete}\n            />\n          )}\n        </Container>\n        <Snackbar open={!!snack} autoHideDuration={2200} onClose={() => setSnack('')} message={snack} />\n      </Box>\n    </ThemeProvider>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}